(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-054143b1"],{"3e42":function(e,t,s){"use strict";var r=s("ac16"),a=s.n(r);a.a},ac16:function(e,t,s){},d2cd:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tab-content",attrs:{id:"earnings-record"}},[s("van-nav-bar",{staticClass:"nav-bar-bg",attrs:{title:e.navTitle,"left-text":"返回","left-arrow":"",fixed:""},on:{"click-right":function(t){e.showTypeModel=!0},"click-left":function(t){return e.$router.go(-1)}}},[s("van-icon",{attrs:{slot:"right",name:"weapp-nav"},slot:"right"})],1),s("div",{staticClass:"tab-main-move-down"},[s("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isOnRefresh,callback:function(t){e.isOnRefresh=t},expression:"isOnRefresh"}},[s("div",{staticClass:"message-container"},[s("van-cell-group",[s("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoadMessage},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.recordsList,function(t,r){return s("van-cell",{key:r,attrs:{"is-link":"",label:e._f("dataFormatSec")(t.createTime)},on:{click:function(s){return e.showDetail(t)}}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e._f("recordTypeFormatter")(t.type))+"\n                                "),s("van-tag",{attrs:{plain:"",type:e._f("commissionTagFiltter")(t.commissionSettled)}},[e._v("\n                                    "+e._s(e._f("commissionStatusFormatter")(t.commissionSettled))+"\n                                ")])],1),s("div",[e._v("\n                                "+e._s(e._f("amountFormatter")(t))),s("br"),s("span",{staticStyle:{"font-size":"12px",color:"#06c"}},[e._v("当前总余额："+e._s(t.currentBalance/100)+"元")])])])}),1),s("div")],1)],1)])],1),s("van-action-sheet",{attrs:{actions:e.recordTypes},on:{select:e.onSelectType},model:{value:e.showTypeModel,callback:function(t){e.showTypeModel=t},expression:"showTypeModel"}})],1)},a=[],n=(s("ac6a"),s("7f7f"),s("f087")),i={name:"MyEarningList",filters:{recordTypeFormatter:function(e){switch(e){case 1:return"店铺营收";case 2:return"战队分红";case 3:return"提现";case 4:return"交易退款";case 5:return"充值";default:return"未知类型"}},commissionTagFiltter:function(e){switch(e){case 0:return"danger";case 1:return"success";case 2:return"default";case 3:return"default";default:return"primary"}},commissionStatusFormatter:function(e){switch(e){case 0:return"待结算";case 1:return"已结算";case 2:return"退款清算";case 3:return"冻结";default:return"未知状态"}},amountFormatter:function(e){return 3==e.type||4==e.type?e.amount/100+"￥":"+"+e.amount/100+"￥"}},data:function(){return{navTitle:"收支记录",showTypeModel:!1,recordTypes:[{id:1,name:"待结算",settled:0,type:void 0},{id:2,name:"已结算",settled:1,type:void 0},{id:3,name:"店铺营收",settled:void 0,type:1},{id:4,name:"战队分红",settled:void 0,type:2},{id:5,name:"提现记录",settled:void 0,type:3},{id:6,name:"交易退款",settled:void 0,type:4}],isOnRefresh:!1,loading:!1,finished:!1,queryParams:{page_size:15,page_num:1,settled:void 0,type:void 0},recordsList:[]}},methods:{showDetail:function(e){3===e.type?this.$router.push("/withdraw_detail?id="+e.withdrawRecordId):this.$router.push("/transaction_detail?od="+e.orderId)},onSelectType:function(e){this.queryParams={page_size:15,page_num:1,settled:e.settled,type:e.type},this.showTypeModel=!1,this.navTitle=e.name,this.getRecordsList()},onRefresh:function(){var e=this;this.queryParams={page_size:15,page_num:1,settled:void 0,type:void 0},Object(n["e"])(this.queryParams).then(function(t){e.queryParams.page_num=t.pageNum+1,e.recordsList=t.list,e.isOnRefresh=!1,e.$toast("刷新成功")})},onLoadMessage:function(){var e=this;Object(n["e"])(this.queryParams).then(function(t){e.queryParams.page_num=t.pageNum+1,t.list.forEach(function(t){e.recordsList.push(t)}),t.hasNextPage||(e.finished=!0),e.loading=!1})},getRecordsList:function(){var e=this;Object(n["e"])(this.queryParams).then(function(t){e.recordsList=t.list,e.queryParams.page_num=t.pageNum+1})}},created:function(){},mounted:function(){this.$route.query.type&&1==this.$route.query.type&&(this.queryParams.settled=0),this.$route.query.type&&3==this.$route.query.type&&(this.queryParams.type=1),this.$route.query.type&&4==this.$route.query.type&&(this.queryParams.type=2)}},o=i,c=(s("3e42"),s("2877")),u=Object(c["a"])(o,r,a,!1,null,"5d66c65e",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-054143b1.392c3e16.js.map